{"version":3,"sources":["other.js","cookie.js","spinner.js","modal.js","post.js","poll.js","quote.js"],"names":["getTooltipContent","element","targetElement","content","tipText","data","DATA_POWERTIP","tipObject","DATA_POWERTIPJQ","tipTarget","DATA_POWERTIPTARGET","$","isFunction","call","length","clone","html","escapeHTML","string","String","replace","s","entityMap","window","MyBB","Cookie","cookiePrefix","cookiePath","cookieDomain","init","Settings","this","get","name","cookie","set","value","expires","expire","Date","setTime","getTime","options","path","domain","unset","removeCookie","jQuery","Spinner","inProgresses","add","show","remove","hide","Modals","on","toggleModal","bind","prototype","event","preventDefault","target","nodeName","modalOpener","modalSelector","modalFind","modal","class","modalContent","parent","substring","appendTo","zIndex","stepper","hideShowPassword","undefined","response","responseObject","Posts","togglePost","hasClass","addClass","removeClass","Polls","optionElement","attr","removeOption","click","proxy","addOption","change","toggleMaxOptionsInput","$addPollButton","toggleAddPoll","val","slideDown","timePicker","datetimepicker","format","lang","minDate","slideUp","num_options","$option","find","last","after","$parent","$me","$myParent","parents","setTimeout","fixOptionsName","Modernizr","touch","powerTip","placement","smartPlacement","i","each","me","is","isOrContains","node","container","parentNode","elementContainsSelection","el","sel","getSelection","rangeCount","getRangeAt","commonAncestorContainer","document","selection","type","createRange","parentElement","Quotes","multiQuoteButton","showQuoteBar","addQuotes","viewQuotes","removeQuotes","quickQuote","quickAddQuote","quoteAdd","quoteRemove","checkQuickQuote","quoteButtons","$post","$content","addQuote","text","hideQuickQuote","quotes","getQuotes","push","id","JSON","stringify","pid","trim","toString","showQuickQuote","range","rect","getBoundingClientRect","$elm","css","top","scrollY","outerHeight","left","scrollX","outerWidth","width","myQuotes","parse","key","quote","postId","parseInt","removed","$quoteBar","$textarea","ajax","url","posts","_token","method","done","json","error","substr","message","focus","close","always","postid","max-height","height","split","$quoteButton","next","dropit","submenuEl","triggerEl","removeAttr","closest","toggleClass","checked","checked_boxes","prop","&","<",">","\"","'","/"],"mappings":"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","file":"main.js","sourcesContent":["$('html').addClass('js');\n\n$(function () {\n\n\t$('.nojs').hide();\n\n\tif(Modernizr.touch)\n\t{\n\t\t$('.radio-buttons .radio-button, .checkbox-buttons .checkbox-button').click(function() {\n\n\t\t});\n\t}\n\telse\n\t{\n\t\t$('span.icons i, a, .caption, time').powerTip({ placement: 's', smartPlacement: true });\n\t}\n\n\t$('.user-navigation__links, #main-menu').dropit({ submenuEl: 'div.dropdown' });\n\t$('.dropdown-menu').dropit({ submenuEl: 'ul.dropdown', triggerEl: 'span.dropdown-button' });\n\t$(\"input[type=number]\").stepper();\n\t$(\".password-toggle\").hideShowPassword(false, true);\n\n\t$('.clear-selection-posts a').click(function(event) {\n\t\tevent.preventDefault();\n\t\t$('.thread').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".post\").removeClass(\"highlight\");\n\t\t$('.inline-moderation').removeClass('floating');\n\t});\n\n\t$('.clear-selection-threads a').click(function(event) {\n\t\tevent.preventDefault();\n\t\t$('.thread-list').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".thread\").removeClass(\"highlight\");\n\t\t$('.checkbox-select.check-all').find('input[type=checkbox]:checked').removeAttr('checked');\n\t\t$('.inline-moderation').removeClass('floating');\n\t});\n\n\t$('.clear-selection-forums a').click(function(event) {\n\t\tevent.preventDefault();\n\t\t$('.forum-list').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".forum\").removeClass(\"highlight\");\n\t\t$('.checkbox-select.check-all').find('input[type=checkbox]:checked').removeAttr('checked');\n\t\t$('.inline-moderation').removeClass('floating');\n\t});\n\n\t$(\"#search .search-button\").click(function(event) {\n\t\tevent.preventDefault();\n\t\t$(\"#search .search-container\").slideDown();\n\t});\n\n\t$(\".post :checkbox\").change(function() {\n\t\t$(this).closest(\".post\").toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes == 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\n\t});\n\n\t$(\".thread .checkbox-select :checkbox\").change(function() {\n\t\t$(this).closest(\".thread\").toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes == 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\n\t});\n\n\t$(\".forum .checkbox-select :checkbox\").change(function() {\n\t\t$(this).closest(\".forum\").toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes == 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')');\n\t});\n\n\t$(\".checkbox-select.check-all :checkbox\").click(function() {\n\t\t$(this).closest('section').find('input[type=checkbox]').prop('checked', this.checked);\n\t\t$(this).closest('section').find('.checkbox-select').closest('.thread').toggleClass(\"highlight\", this.checked);\n\t\t$(this).closest('section').find('.checkbox-select').closest('.forum').toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes >= 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')');\n\t});\n\n/*\t$('.post.reply textarea.editor, .form textarea.editor').sceditor({\n\t\tplugins: 'bbcode',\n\t\tstyle: 'js/vendor/sceditor/jquery.sceditor.default.min.css',\n\t\temoticonsRoot: 'assets/images/',\n\t\ttoolbar: 'bold,italic,underline|font,size,color,removeformat|left,center,right|image,link,unlink|emoticon,youtube|bulletlist,orderedlist|quote,code|source',\n\t\tresizeWidth: false,\n\t\tautofocus: false,\n\t\tautofocusEnd: false\n\t});*/\n});\n\n// Overwrite the powertip helper function - it's nearly the same\nfunction getTooltipContent(element) {\n\tvar tipText = element.data(DATA_POWERTIP),\n\t\ttipObject = element.data(DATA_POWERTIPJQ),\n\t\ttipTarget = element.data(DATA_POWERTIPTARGET),\n\t\ttargetElement,\n\t\tcontent;\n\n\tif (tipText) {\n\t\tif ($.isFunction(tipText)) {\n\t\t\ttipText = tipText.call(element[0]);\n\t\t}\n\t\tcontent = tipText;\n\t} else if (tipObject) {\n\t\tif ($.isFunction(tipObject)) {\n\t\t\ttipObject = tipObject.call(element[0]);\n\t\t}\n\t\tif (tipObject.length > 0) {\n\t\t\tcontent = tipObject.clone(true, true);\n\t\t}\n\t} else if (tipTarget) {\n\t\ttargetElement = $('#' + tipTarget);\n\t\tif (targetElement.length > 0) {\n\t\t\tcontent = targetElement.html();\n\t\t}\n\t}\n\n\t// Except we're escaping html\n\treturn escapeHTML(content);\n}\n\n// Source: http://stackoverflow.com/questions/24816/escaping-html-strings-with-jquery\n\nvar entityMap = {\n\t\"&\": \"&amp;\",\n\t\"<\": \"&lt;\",\n\t\">\": \"&gt;\",\n\t'\"': '&quot;',\n\t\"'\": '&#39;',\n\t\"/\": '&#x2F;'\n};\n\nfunction escapeHTML(string) {\n\treturn String(string).replace(/[&<>\"'\\/]/g, function (s) {\n\t\treturn entityMap[s];\n\t});\n}\n","(function ($, window) {\n\twindow.MyBB = window.MyBB || {};\n\n\twindow.MyBB.Cookie = {\n\t\tcookiePrefix: '',\n\t\tcookiePath: '/',\n\t\tcookieDomain: '',\n\n\t\tinit: function () {\n\t\t\tMyBB.Settings = MyBB.Settings || {};\n\t\t\tif (typeof MyBB.Settings.cookiePrefix != 'undefined') {\n\t\t\t\tthis.cookiePrefix = MyBB.Settings.cookiePrefix;\n\t\t\t}\n\t\t\tif (typeof MyBB.Settings.cookiePath != 'undefined') {\n\t\t\t\tthis.cookiePath = MyBB.Settings.cookiePath;\n\t\t\t}\n\t\t\tif (typeof MyBB.Settings.cookieDomain != 'undefined') {\n\t\t\t\tthis.cookieDomain = MyBB.Settings.cookieDomain;\n\t\t\t}\n\t\t},\n\n\t\tget: function (name) {\n\t\t\tthis.init();\n\n\t\t\tname = this.cookiePrefix + name;\n\t\t\treturn $.cookie(name);\n\t\t},\n\n\t\tset: function (name, value, expires) {\n\t\t\tthis.init();\n\n\t\t\tname = this.cookiePrefix + name;\n\t\t\tif (!expires) {\n\t\t\t\texpires = 157680000; // 5*365*24*60*60 => 5 years\n\t\t\t}\n\n\t\t\texpire = new Date();\n\t\t\texpire.setTime(expire.getTime() + (expires * 1000));\n\n\t\t\toptions = {\n\t\t\t\texpires: expire,\n\t\t\t\tpath: this.cookiePath,\n\t\t\t\tdomain: this.cookieDomain\n\t\t\t};\n\n\t\t\treturn $.cookie(name, value, options);\n\t\t},\n\n\t\tunset: function (name) {\n\t\t\tthis.init();\n\n\t\t\tname = this.cookiePrefix + name;\n\n\t\t\toptions = {\n\t\t\t\tpath: this.cookiePath,\n\t\t\t\tdomain: this.cookieDomain\n\t\t\t};\n\t\t\treturn $.removeCookie(name, options);\n\t\t}\n\t}\n})\n(jQuery, window);","(function ($, window) {\n\twindow.MyBB = window.MyBB || {};\n\n\twindow.MyBB.Spinner = {\n\t\tinProgresses: 0,\n\t\tadd: function () {\n\t\t\tthis.inProgresses++;\n\t\t\tif (this.inProgresses == 1) {\n\t\t\t\t$(\"#spinner\").show();\n\t\t\t}\n\t\t},\n\t\tremove: function () {\n\t\t\tthis.inProgresses--;\n\t\t\tif (this.inProgresses == 0) {\n\t\t\t\t$(\"#spinner\").hide();\n\t\t\t}\n\t\t}\n\t}\n})\n(jQuery, window);","(function($, window) {\n    window.MyBB = window.MyBB || {};\n    \n\twindow.MyBB.Modals = function Modals()\n\t{\n\t\t$(\"*[data-modal]\").on(\"click\", this.toggleModal).bind(this);\n\t};\n\n\twindow.MyBB.Modals.prototype.toggleModal = function toggleModal(event) {\n\t\tevent.preventDefault();\n\n\t\t// Check to make sure we're clicking the link and not a child of the link\n\t\tif(event.target.nodeName === \"A\")\n\t\t{\n\t\t\t// Woohoo, it's the link!\n\t\t\tvar modalOpener = event.target,\n\t\t\t\tmodalSelector = $(modalOpener).data(\"modal\"),\n\t\t\t\tmodalFind = $(modalOpener).data(\"modal-find\"),\n\t\t\t\tmodal = $('<div/>', {\n\t    \t\t\t\"class\": \"modal-dialog\",\n\t\t\t\t}),\n\t\t\t\tmodalContent = \"\";\n\t\t} else {\n\t\t\t// Nope, it's one of those darn children.\n\t\t\tvar modalOpener = event.target,\n\t\t\t\tmodalSelector = $(modalOpener).parent().data(\"modal\"),\n\t\t\t\tmodalFind = $(modalOpener).data(\"modal-find\"),\n\t\t\t\tmodal = $('<div/>', {\n\t    \t\t\t\"class\": \"modal-dialog\",\n\t\t\t\t}),\n\t\t\t\tmodalContent = \"\";\n\t\t}\n\n\t\tif (modalSelector.substring(0, 1) === \".\" || modalSelector.substring(0, 1) === \"#\") {\n\t\t\t// Assume using a local, existing HTML element.\n\t\t\tmodalContent = $(modalSelector).html();\n\t\t\tmodal.html(modalContent);\n\t\t\tmodal.appendTo(\"body\").modal({\n\t\t\t\tzIndex: 1000\n\t\t\t});\n\t\t\t$('.modalHide').hide();\n\t\t\t$(\"input[type=number]\").stepper();\n\t\t\t$(\".password-toggle\").hideShowPassword(false, true);\n\t\t} else {\n\t\t\t// Assume modal content is coming from an AJAX request\n\n\t\t\t// data-modal-find is optional, default to \"#content\"\n\t\t\tif (modalFind === undefined) {\n\t\t\t\tmodalFind = \"#content\";\n\t\t\t}\n\n\t\t\t$.get('/'+modalSelector, function(response) {\n\t\t\t\tvar responseObject = $(response);\n\n\t\t\t\tmodalContent = $(modalFind, responseObject).html();\n\t\t\t\tmodal.html(modalContent);\n\t\t\t\tmodal.appendTo(\"body\").modal({\n\t\t\t\t\tzIndex: 1000\n\t\t\t\t});\n\t\t\t\t$('.modalHide').hide();\n\t\t\t\t$(\"input[type=number]\").stepper();\n\t\t\t\t$(\".password-toggle\").hideShowPassword(false, true);\n\t\t\t});\n\t\t}\n\t};\n    \n    var modals = new window.MyBB.Modals(); // TODO: put this elsewhere :)\n})(jQuery, window);","(function($, window) {\n    window.MyBB = window.MyBB || {};\n\n\twindow.MyBB.Posts = function Posts()\n\t{\n\t\t// Show and hide posts\n\t\t$(\".postToggle\").on(\"click\", this.togglePost).bind(this);\n\t};\n\n\t// Show and hide posts\n\twindow.MyBB.Posts.prototype.togglePost = function togglePost(event) {\n\t\tevent.preventDefault();\n\t\t// Are we minimized or not?\n\t\tif($(event.target).hasClass(\"fa-minus\"))\n\t\t{\n\t\t\t// Perhaps instead of hide, apply a CSS class?\n\t\t\t$(event.target).parent().parent().parent().addClass(\"post--hidden\");\n\t\t\t// Make button a plus sign for expanding\n\t\t\t$(event.target).addClass(\"fa-plus\");\n\t\t\t$(event.target).removeClass(\"fa-minus\");\n\n\t\t} else {\n\t\t\t// We like this person again\n\t\t\t$(event.target).parent().parent().parent().removeClass(\"post--hidden\");\n\t\t\t// Just in case we change our mind again, show the hide button\n\t\t\t$(event.target).addClass(\"fa-minus\");\n\t\t\t$(event.target).removeClass(\"fa-show\");\n\t\t}\n\t};\n\n\n\tvar posts = new window.MyBB.Posts();\n\n})(jQuery, window);","(function($, window) {\n    window.MyBB = window.MyBB || {};\n    \n\twindow.MyBB.Polls = function Polls()\n\t{\n\t\tthis.optionElement = $('#option-simple').clone().attr('id', '').removeClass('hidden').addClass('poll-option').hide();\n\t\t$('#option-simple').remove();\n\n\t\tthis.removeOption($('#add-poll .poll-option'));\n\n\t\t$('#new-option').click($.proxy(this.addOption, this));\n\n\t\t$('#poll-maximum-options').hide();\n\n\t\t$('#poll-is-multiple').change($.proxy(this.toggleMaxOptionsInput, this)).change();\n\n\t\tvar $addPollButton = $(\"#add-poll-button\");\n\t\t$addPollButton.click($.proxy(this.toggleAddPoll, this));\n\t\tif($addPollButton.length) {\n\t\t\tif($('#add-poll-input').val() === '1') {\n\t\t\t\t$('#add-poll').slideDown();\n\t\t\t}\n\t\t}\n\n\t\tthis.timePicker();\n\t};\n\n\twindow.MyBB.Polls.prototype.timePicker = function timePicker() {\n\t\t$('#poll-end-at').datetimepicker({\n\t\t\tformat: 'Y-m-d H:i:s',\n\t\t\tlang: $('html').attr('lang'),// TODO: use our i18n\n\t\t\tminDate: 0\n\t\t});\n\t};\n\n\twindow.MyBB.Polls.prototype.toggleAddPoll = function toggleAddPoll() {\n\t\tif($('#add-poll-input').val() === '1') {\n\t\t\t$('#add-poll-input').val(0);\n\t\t\t$('#add-poll').slideUp();\n\t\t} else {\n\t\t\t$('#add-poll-input').val(1);\n\t\t\t$('#add-poll').slideDown();\n\t\t}\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Polls.prototype.addOption = function addOption(event) {\n\t\tvar num_options = $('#add-poll .poll-option').length;\n\t\tif(num_options >= 10) { // TODO: settings\n\t\t\treturn false;\n\t\t}\n\t\tvar $option = this.optionElement.clone();\n\t\t$option.find('input').attr('name', 'option['+(num_options+1)+']')\n\t\t$('#add-poll .poll-option').last().after($option);\n\t\t$option.slideDown();\n\t\tthis.removeOption($option);\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Polls.prototype.removeOption = function bindRemoveOption($parent) {\n\t\t$parent.find('.remove-option').click($.proxy(function(event) {\n\t\t\tvar $me = $(event.target),\n\t\t\t\t$myParent = $me.parents('.poll-option');\n\t\t\tif($('.poll-option').length <= 2)\n\t\t\t{\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t$myParent.slideUp(500);\n\n\t\t\tsetTimeout($.proxy(function() {\n\t\t\t\t$myParent.remove();\n\t\t\t\tthis.fixOptionsName();\n\t\t\t}, this), 500);\n\t\t}, this));\n\t\tif(!Modernizr.touch) {\n\t\t\t$parent.find('.remove-option').powerTip({ placement: 's', smartPlacement: true });\n\t\t}\n\t};\n\n\twindow.MyBB.Polls.prototype.fixOptionsName = function() {\n\t\tvar i = 0;\n\t\t$('#add-poll .poll-option').each(function() {\n\t\t\ti++;\n\t\t\t$(this).find('input').attr('name', 'option['+i+']');\n\t\t});\n\t};\n\n\twindow.MyBB.Polls.prototype.toggleMaxOptionsInput = function toggleMaxOptionsInput(event) {\n\t\tme = event.target;\n\t\tif($(me).is(':checked')) {\n\t\t\t$('#poll-maximum-options').slideDown();\n\t\t}\n\t\telse {\n\t\t\t$('#poll-maximum-options').slideUp();\n\t\t}\n\t};\n\n\tvar polls = new window.MyBB.Polls();\n\n})(jQuery, window);","(function ($, window) {\n\twindow.MyBB = window.MyBB || {};\n\n\twindow.MyBB.Quotes = function Quotes() {\n\n\t\t// MultiQuote\n\t\t$(\".quoteButton\").on(\"click\", this.multiQuoteButton.bind(this));\n\n\t\tthis.showQuoteBar();\n\n\t\t$(\"#quoteBar__select\").on(\"click\", $.proxy(this.addQuotes, this));\n\t\t$(\"#quoteBar__view\").on(\"click\", $.proxy(this.viewQuotes, this));\n\t\t$(\"#quoteBar__deselect\").on(\"click\", $.proxy(this.removeQuotes, this));\n\n\t\t$('.quickQuote .fast').on('click', $.proxy(this.quickQuote, this));\n\t\t$('.quickQuote .add').on('click', $.proxy(this.quickAddQuote, this));\n\n\t\t$('.quote__select').on(\"click\", $.proxy(this.quoteAdd, this));\n\t\t$('.quote__remove').on(\"click\", $.proxy(this.quoteRemove, this));\n\t\t$(\"body\").on(\"mouseup\", $.proxy(this.checkQuickQuote, this));\n\n\t\tthis.quoteButtons();\n\t};\n\n\twindow.MyBB.Quotes.prototype.quickQuote = function quickQuote(event) {\n\t\tvar $me = $(event.target);\n\t\tif (!$me.hasClass('quickQuote')) {\n\t\t\t$me = $me.parents('.quickQuote');\n\t\t}\n\n\t\tvar $post = $me.parents('.post');\n\n\t\tif ($me.data('content')) {\n\t\t\t$content = $('<div/>');\n\t\t\t$content.html($me.data('content'));\n\t\t\tthis.addQuote($post.data('postid'), $post.data('type'), $content.text());\n\t\t}\n\t\tthis.hideQuickQuote();\n\t}\n\n\twindow.MyBB.Quotes.prototype.quickAddQuote = function quickAddQuote(event) {\n\t\tvar $me = $(event.target),\n\t\t\tquotes = this.getQuotes();\n\t\tif (!$me.hasClass('quickQuote')) {\n\t\t\t$me = $me.parents('.quickQuote');\n\t\t}\n\n\t\tvar $post = $me.parents('.post');\n\n\t\tif ($me.data('content')) {\n\t\t\t$content = $('<div/>');\n\t\t\t$content.html($me.data('content'));\n\t\t\tquotes.push({\n\t\t\t\t'id': $post.data('type') + '_' + $post.data('postid'),\n\t\t\t\t'data': $content.text()\n\t\t\t});\n\t\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\n\n\t\t\tthis.showQuoteBar();\n\t\t}\n\t\tthis.hideQuickQuote();\n\t}\n\n\twindow.MyBB.Quotes.prototype.checkQuickQuote = function checkQuickQuote(event) {\n\t\tvar $me = $(event.target);\n\t\tif ($me.hasClass('quickQuote') || $me.parents('.quickQuote').length) {\n\t\t\treturn false;\n\t\t}\n\t\tif (!$me.hasClass('post')) {\n\t\t\t$me = $me.parents('.post');\n\t\t}\n\n\t\tif ($me && $me.length) {\n\t\t\tvar pid = $me.data('postid');\n\n\t\t\tif ($.trim(window.getSelection().toString())) {\n\t\t\t\tif (elementContainsSelection($me.find('.post__body')[0])) {\n\t\t\t\t\tthis.showQuickQuote(pid);\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.hideQuickQuote();\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.hideQuickQuote();\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tthis.hideQuickQuote();\n\t\t}\n\t}\n\n\twindow.MyBB.Quotes.prototype.showQuickQuote = function showQuckQuote(pid) {\n\t\tvar selection = window.getSelection(),\n\t\t\trange = selection.getRangeAt(0),\n\t\t\trect = range.getBoundingClientRect();\n\t\t$elm = $(\"#post-\" + pid).find('.quickQuote').show().data('content', $.trim(window.getSelection().toString()));\n\t\t$elm.css({\n\t\t\t'top': (window.scrollY + rect.top - $elm.outerHeight() - 4) + 'px',\n\t\t\t'left': (window.scrollX + rect.left - (($elm.outerWidth() - rect.width) / 2)) + 'px'\n\t\t});\n\t}\n\n\twindow.MyBB.Quotes.prototype.hideQuickQuote = function () {\n\t\t$('.post .quickQuote').hide().data('content', '');\n\t}\n\n\twindow.MyBB.Quotes.prototype.getQuotes = function getQuotes() {\n\t\tvar quotes = MyBB.Cookie.get('quotes'),\n\t\t\tmyQuotes = [];\n\t\tif (!quotes) {\n\t\t\tquotes = [];\n\t\t}\n\t\telse {\n\t\t\tquotes = JSON.parse(quotes);\n\t\t}\n\t\t$.each(quotes, function (key, quote) {\n\t\t\tif (quote != null) {\n\t\t\t\tmyQuotes.push(quote);\n\t\t\t}\n\t\t});\n\n\t\tMyBB.Cookie.set('quotes', JSON.stringify(myQuotes));\n\t\treturn myQuotes;\n\t};\n\n\t// MultiQuote\n\twindow.MyBB.Quotes.prototype.multiQuoteButton = function multiQuoteButton(event) {\n\t\tevent.preventDefault();\n\t\tvar $me = $(event.target);\n\t\tif (!$me.hasClass('quoteButton')) {\n\t\t\t$me = $me.parents('.quoteButton');\n\t\t}\n\t\tvar $post = $me.parents('.post');\n\n\t\tvar postId = parseInt($post.data('postid')),\n\t\t\ttype = $post.data('type'),\n\t\t\tquotes = this.getQuotes();\n\n\t\tif (postId) {\n\t\t\tvar removed = false;\n\t\t\t$.each(quotes, function(key, quote) {\n\t\t\t\tif(typeof quote != 'string') {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(quote == type + '_' + postId) {\n\t\t\t\t\tdelete quotes[key];\n\t\t\t\t\tremoved = true;\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!removed) {\n\t\t\t\tquotes.push(type + '_' + postId);\n\t\t\t\t$me.find('.quoteButton__add').hide();\n\t\t\t\t$me.find('.quoteButton__remove').show();\n\t\t\t}\n\t\t\telse {\n\t\t\t\t$me.find('.quoteButton__add').show();\n\t\t\t\t$me.find('.quoteButton__remove').hide();\n\t\t\t}\n\n\t\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\n\n\t\t\tthis.showQuoteBar();\n\t\t\treturn false;\n\t\t}\n\n\t};\n\n\twindow.MyBB.Quotes.prototype.showQuoteBar = function showQuoteBar() {\n\t\tvar quotes = this.getQuotes();\n\n\t\tif (quotes.length) {\n\t\t\t$(\"#quoteBar\").show();\n\t\t}\n\t\telse {\n\t\t\t$(\"#quoteBar\").hide();\n\t\t}\n\t};\n\n\twindow.MyBB.Quotes.prototype.addQuotes = function addQuotes() {\n\t\tvar quotes = this.getQuotes(),\n\t\t\t$quoteBar = $(\"#quoteBar\"),\n\t\t\t$textarea = $($quoteBar.data('textarea'));\n\n\t\tMyBB.Spinner.add();\n\n\t\t$.ajax({\n\t\t\turl: '/post/quotes',\n\t\t\tdata: {\n\t\t\t\t'posts': quotes,\n\t\t\t\t'_token': $quoteBar.parents('form').find('input[name=_token]').val()\n\t\t\t},\n\t\t\tmethod: 'POST'\n\t\t}).done(function (json) {\n\t\t\tif (json.error) {\n\t\t\t\talert(json.error);// TODO: js error\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar value = $textarea.val();\n\t\t\t\tif (value && value.substr(-2) != \"\\n\\n\") {\n\t\t\t\t\tif (value.substr(-1) != \"\\n\") {\n\t\t\t\t\t\tvalue += \"\\n\";\n\t\t\t\t\t}\n\t\t\t\t\tvalue += \"\\n\";\n\t\t\t\t}\n\t\t\t\t$textarea.val(value + json.message).focus();\n\t\t\t}\n\t\t\t$.modal.close();\n\t\t}).always(function () {\n\t\t\tMyBB.Spinner.remove();\n\t\t});\n\n\t\t$quoteBar.hide();\n\t\tMyBB.Cookie.unset('quotes');\n\t\tthis.quoteButtons();\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Quotes.prototype.addQuote = function addQuote(postid, type, content) {\n\t\tvar $textarea = $(\"#message\");\n\n\t\tMyBB.Spinner.add();\n\n\t\t$.ajax({\n\t\t\turl: '/post/quotes',\n\t\t\tdata: {\n\t\t\t\t'posts': [\n\t\t\t\t\t{\n\t\t\t\t\t\t'id': type + '_' + postid,\n\t\t\t\t\t\t'data': content\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t'_token': $(\"#quoteBar\").parents('form').find('input[name=_token]').val()\n\t\t\t},\n\t\t\tmethod: 'POST'\n\t\t}).done(function (json) {\n\t\t\tif (json.error) {\n\t\t\t\talert(json.error);// TODO: js error\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar value = $textarea.val();\n\t\t\t\tif (value && value.substr(-2) != \"\\n\\n\") {\n\t\t\t\t\tif (value.substr(-1) != \"\\n\") {\n\t\t\t\t\t\tvalue += \"\\n\";\n\t\t\t\t\t}\n\t\t\t\t\tvalue += \"\\n\";\n\t\t\t\t}\n\t\t\t\t$textarea.val(value + json.message).focus();\n\t\t\t}\n\t\t}).always(function () {\n\t\t\tMyBB.Spinner.remove();\n\t\t});\n\n\t\tthis.hideQuickQuote();\n\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Quotes.prototype.viewQuotes = function viewQuotes() {\n\t\tMyBB.Spinner.add();\n\n\t\t$.ajax({\n\t\t\turl: '/post/quotes/all',\n\t\t\tdata: {\n\t\t\t\t'posts': this.getQuotes(),\n\t\t\t\t'_token': $(\"#quoteBar\").parents('form').find('input[name=_token]').val()\n\t\t\t},\n\t\t\tmethod: 'POST'\n\t\t}).done($.proxy(function (data) {\n\t\t\tvar modalContent = $(\"#content\", $(data)),\n\t\t\t\tmodal = $('<div/>', {\n\t\t\t\t\t\"class\": \"modal-dialog viewQuotes\"\n\t\t\t\t});\n\t\t\tmodalContent.find('.post-quotes').css({\n\t\t\t\t'max-height': ($(window).height()-100)+'px'\n\t\t\t});\n\t\t\tmodal.html(modalContent.html());\n\t\t\tmodal.appendTo(\"body\").modal({\n\t\t\t\tzIndex: 1000\n\t\t\t});\n\n\t\t\tif(Modernizr.touch)\n\t\t\t{\n\t\t\t\t$('.radio-buttons .radio-button, .checkbox-buttons .checkbox-button').click(function() {\n\n\t\t\t\t});\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\t$('span.icons i, a, .caption, time').powerTip({ placement: 's', smartPlacement: true });\n\t\t\t}\n\n\t\t\t$('.quote__select').on(\"click\", $.proxy(this.quoteAdd, this));\n\t\t\t$('.quote__remove').on(\"click\", $.proxy(this.quoteRemove, this));\n\t\t\t$(\".selectAllQuotes\").on(\"click\", $.proxy(this.addQuotes, this));\n\t\t\t$('.modalHide').hide();\n\t\t}, this)).always(function () {\n\t\t\tMyBB.Spinner.remove();\n\t\t});\n\n\t\tthis.hideQuickQuote();\n\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Quotes.prototype.removeQuotes = function removeQuotes() {\n\t\t$quoteBar = $(\"#quoteBar\");\n\t\t$quoteBar.hide();\n\t\tMyBB.Cookie.unset('quotes');\n\t\tthis.quoteButtons();\n\t\treturn false;\n\t};\n\n\twindow.MyBB.Quotes.prototype.quoteButtons = function quoteButtons() {\n\t\tvar quotes = this.getQuotes();\n\n\t\t$('.quoteButton__add').show();\n\t\t$('.quoteButton__remove').hide();\n\n\t\t$.each(quotes, function (key, quote) {\n\t\t\tif (typeof quote != 'string') {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tquote = quote.split('_');\n\t\t\ttype = quote[0];\n\t\t\tpostId = parseInt(quote[1]);\n\t\t\tvar $quoteButton = $(\"#post-\" + postId + \"[data-type='\" + type + \"']\").find('.quoteButton');\n\t\t\t$quoteButton.find('.quoteButton__add').hide();\n\t\t\t$quoteButton.find('.quoteButton__remove').show();\n\t\t})\n\t}\n\n\twindow.MyBB.Quotes.prototype.quoteAdd = function quoteAdd(event) {\n\t\tvar $me = $(event.target),\n\t\t\t$post = $me.parents('.content-quote'),\n\t\t\t$textarea = $(\"#message\"),\n\t\t\tquotes = this.getQuotes();\n\n\t\tvar value = $textarea.val();\n\t\tif (value && value.substr(-2) != \"\\n\\n\") {\n\t\t\tif (value.substr(-1) != \"\\n\") {\n\t\t\t\tvalue += \"\\n\";\n\t\t\t}\n\t\t\tvalue += \"\\n\";\n\t\t}\n\t\t$textarea.val(value + $post.data('quote')).focus();\n\n\t\tdelete quotes[$post.data('id')];\n\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\n\t\t$post.slideUp('fast');\n\n\t\tif(this.getQuotes().length == 0) {\n\t\t\t$.modal.close();\n\t\t}\n\n\t\twhile($post.next().length) {\n\t\t\t$post = $post.next();\n\t\t\t$post.data('id', $post.data('id')-1);\n\t\t}\n\n\t\tthis.quoteButtons();\n\t\tthis.showQuoteBar();\n\t}\n\n\twindow.MyBB.Quotes.prototype.quoteRemove = function quoteRemove(event) {\n\t\tvar $me = $(event.target),\n\t\t\t$post = $me.parents('.content-quote'),\n\t\t\tquotes = this.getQuotes();\n\n\t\tdelete quotes[$post.data('id')];\n\t\tMyBB.Cookie.set('quotes', JSON.stringify(quotes));\n\t\t$post.slideUp('fast');\n\n\t\tif(this.getQuotes().length == 0) {\n\t\t\t$.modal.close();\n\t\t}\n\n\t\twhile($post.next().length) {\n\t\t\t$post = $post.next();\n\t\t\t$post.data('id', $post.data('id')-1);\n\t\t}\n\n\t\tthis.quoteButtons();\n\t\tthis.showQuoteBar();\n\t\treturn false;\n\t}\n\n\tvar quotes = new window.MyBB.Quotes();\n\n\n\t// Helper functions\n\t// http://stackoverflow.com/questions/8339857\n\tfunction isOrContains(node, container) {\n\t\twhile (node) {\n\t\t\tif (node === container) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\tnode = node.parentNode;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction elementContainsSelection(el) {\n\t\tvar sel;\n\t\tif (window.getSelection) {\n\t\t\tsel = window.getSelection();\n\t\t\tif (sel.rangeCount > 0) {\n\t\t\t\tfor (var i = 0; i < sel.rangeCount; ++i) {\n\t\t\t\t\tif (!isOrContains(sel.getRangeAt(i).commonAncestorContainer, el)) {\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\t\t} else if ((sel = document.selection) && sel.type != \"Control\") {\n\t\t\treturn isOrContains(sel.createRange().parentElement(), el);\n\t\t}\n\t\treturn false;\n\t}\n\n})\n(jQuery, window);"],"sourceRoot":"/source/"}