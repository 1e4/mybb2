{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","js/main.js","main.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length",1,"$","addClass","hide","Modernizr","touch","click","powerTip","placement","smartPlacement","dropit","submenuEl","triggerEl","stepper","hideShowPassword","event","preventDefault","find","removeAttr","closest","removeClass","slideDown","change","this","toggleClass","checked","checked_boxes","text","prop"],"mappings":"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","file":"main.js","sourcesContent":["(function e(t, n, r) {\n    function s(o, u) {\n        if (!n[o]) {\n            if (!t[o]) {\n                var a = typeof require == \"function\" && require;\n                if (!u && a)return a(o, !0);\n                if (i)return i(o, !0);\n                var f = new Error(\"Cannot find module '\" + o + \"'\");\n                throw f.code = \"MODULE_NOT_FOUND\", f\n            }\n            var l = n[o] = {exports: {}};\n            t[o][0].call(l.exports, function (e) {\n                var n = t[o][1][e];\n                return s(n ? n : e)\n            }, l, l.exports, e, t, n, r)\n        }\n        return n[o].exports\n    }\n\n    var i = typeof require == \"function\" && require;\n    for (var o = 0; o < r.length; o++)s(r[o]);\n    return s\n})\n","$('html').addClass('js');\n\n$(function () {\n\t\n\t$('.nojs').hide();\n\n\tif(Modernizr.touch)\n\t{\n\t\t$('.radio-buttons .radio-button, .checkbox-buttons .checkbox-button').click(function() {\n\n\t\t});\n\t}\n\n\telse\n\t{\n\t\t$('span.icons i, a, .caption').powerTip({ placement: 's', smartPlacement: true });\n\t}\n\n\t$('.user-links, #main-menu').dropit({ submenuEl: 'div.dropdown' });\n\t$('.dropdown-menu').dropit({ submenuEl: 'ul.dropdown', triggerEl: 'span.dropdown-button' });\n\t$(\"input[type=number]\").stepper();\n\t$(\".password-toggle\").hideShowPassword(false, true);\n\n\t$('.clear-selection-posts a').click(function(event) {\n\t\tevent.preventDefault();\n\t\t$('.thread').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".post\").removeClass(\"highlight\");\n\t\t$('.inline-moderation').removeClass('floating');\n\t});\n\n\t$('.clear-selection-threads a').click(function(event) {\n\t\tevent.preventDefault();\n\t\t$('.thread-list').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".thread\").removeClass(\"highlight\");\n\t\t$('.checkbox-select.check-all').find('input[type=checkbox]:checked').removeAttr('checked');\n\t\t$('.inline-moderation').removeClass('floating');\n\t});\n\n\t$('.clear-selection-forums a').click(function(event) {\n\t\tevent.preventDefault();\n\t\t$('.forum-list').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".forum\").removeClass(\"highlight\");\n\t\t$('.checkbox-select.check-all').find('input[type=checkbox]:checked').removeAttr('checked');\n\t\t$('.inline-moderation').removeClass('floating');\n\t});\n\n\t$(\"#search .search-button\").click(function(event) {\n\t\tevent.preventDefault();\n\t\t$(\"#search .search-container\").slideDown();\n\t});\n\n\t$(\".post :checkbox\").change(function() {\n\t\t$(this).closest(\".post\").toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes == 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\n\t});\n\n\t$(\".thread .checkbox-select :checkbox\").change(function() {\n\t\t$(this).closest(\".thread\").toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes == 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\n\t});\n\n\t$(\".forum .checkbox-select :checkbox\").change(function() {\n\t\t$(this).closest(\".forum\").toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes == 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')');\n\t});\n\n\t$(\".checkbox-select.check-all :checkbox\").click(function() {\n\t\t$(this).closest('section').find('input[type=checkbox]').prop('checked', this.checked);\n\t\t$(this).closest('section').find('.checkbox-select').closest('.thread').toggleClass(\"highlight\", this.checked);\n\t\t$(this).closest('section').find('.checkbox-select').closest('.forum').toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes >= 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')');\n\t});\n\n/*\t$('.post.reply textarea.editor, .form textarea.editor').sceditor({\n\t\tplugins: 'bbcode',\n\t\tstyle: 'js/vendor/sceditor/jquery.sceditor.default.min.css',\n\t\temoticonsRoot: 'assets/images/',\n\t\ttoolbar: 'bold,italic,underline|font,size,color,removeformat|left,center,right|image,link,unlink|emoticon,youtube|bulletlist,orderedlist|quote,code|source',\n\t\tresizeWidth: false,\n\t\tautofocus: false,\n\t\tautofocusEnd: false\n\t});*/\n});\n\nfunction modal(page, find) {\n\tif(page[0] == '/')\n\t\tpage = page.substr(1);\n\n\t$.get('/'+page, function(ans) {\n\t\t// find is optional and defaults to '#content'\n\t\tif(typeof find == 'undefined') { find = '#content'; }\n\n\t\tvar obj = $(ans);\n\t\tvar html = $(find, obj).html();\n\t\t$('<div class=\"modalDialog\">'+html+'</div>').appendTo('body').modal();\n\t\t$('.modalHide').hide();\n\t\t$(\"input[type=number]\").stepper();\t\n\t\t$(\".password-toggle\").hideShowPassword(false, true);\n\t});\n}","(function e(t, n, r) {\n    function s(o, u) {\n        if (!n[o]) {\n            if (!t[o]) {\n                var a = typeof require == \"function\" && require;\n                if (!u && a)return a(o, !0);\n                if (i)return i(o, !0);\n                var f = new Error(\"Cannot find module '\" + o + \"'\");\n                throw f.code = \"MODULE_NOT_FOUND\", f\n            }\n            var l = n[o] = {exports: {}};\n            t[o][0].call(l.exports, function (e) {\n                var n = t[o][1][e];\n                return s(n ? n : e)\n            }, l, l.exports, e, t, n, r)\n        }\n        return n[o].exports\n    }\n\n    var i = typeof require == \"function\" && require;\n    for (var o = 0; o < r.length; o++)s(r[o]);\n    return s\n})\n({1:[function(require,module,exports){\n$('html').addClass('js');\n\n$(function () {\n\t\n\t$('.nojs').hide();\n\n\tif(Modernizr.touch)\n\t{\n\t\t$('.radio-buttons .radio-button, .checkbox-buttons .checkbox-button').click(function() {\n\n\t\t});\n\t}\n\n\telse\n\t{\n\t\t$('span.icons i, a, .caption').powerTip({ placement: 's', smartPlacement: true });\n\t}\n\n\t$('.user-links, #main-menu').dropit({ submenuEl: 'div.dropdown' });\n\t$('.dropdown-menu').dropit({ submenuEl: 'ul.dropdown', triggerEl: 'span.dropdown-button' });\n\t$(\"input[type=number]\").stepper();\n\t$(\".password-toggle\").hideShowPassword(false, true);\n\n\t$('.clear-selection-posts a').click(function(event) {\n\t\tevent.preventDefault();\n\t\t$('.thread').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".post\").removeClass(\"highlight\");\n\t\t$('.inline-moderation').removeClass('floating');\n\t});\n\n\t$('.clear-selection-threads a').click(function(event) {\n\t\tevent.preventDefault();\n\t\t$('.thread-list').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".thread\").removeClass(\"highlight\");\n\t\t$('.checkbox-select.check-all').find('input[type=checkbox]:checked').removeAttr('checked');\n\t\t$('.inline-moderation').removeClass('floating');\n\t});\n\n\t$('.clear-selection-forums a').click(function(event) {\n\t\tevent.preventDefault();\n\t\t$('.forum-list').find('input[type=checkbox]:checked').removeAttr('checked').closest(\".forum\").removeClass(\"highlight\");\n\t\t$('.checkbox-select.check-all').find('input[type=checkbox]:checked').removeAttr('checked');\n\t\t$('.inline-moderation').removeClass('floating');\n\t});\n\n\t$(\"#search .search-button\").click(function(event) {\n\t\tevent.preventDefault();\n\t\t$(\"#search .search-container\").slideDown();\n\t});\n\n\t$(\".post :checkbox\").change(function() {\n\t\t$(this).closest(\".post\").toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes == 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\n\t});\n\n\t$(\".thread .checkbox-select :checkbox\").change(function() {\n\t\t$(this).closest(\".thread\").toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes == 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')')\n\t});\n\n\t$(\".forum .checkbox-select :checkbox\").change(function() {\n\t\t$(this).closest(\".forum\").toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes == 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')');\n\t});\n\n\t$(\".checkbox-select.check-all :checkbox\").click(function() {\n\t\t$(this).closest('section').find('input[type=checkbox]').prop('checked', this.checked);\n\t\t$(this).closest('section').find('.checkbox-select').closest('.thread').toggleClass(\"highlight\", this.checked);\n\t\t$(this).closest('section').find('.checkbox-select').closest('.forum').toggleClass(\"highlight\", this.checked);\n\n\t\tvar checked_boxes = $('.highlight').length;\n\n\t\tif(checked_boxes >= 1)\n\t\t{\n\t\t\t$('.inline-moderation').addClass('floating');\n\t\t}\n\n\t\tif(checked_boxes == 0)\n\t\t{\n\t\t\t$('.inline-moderation').removeClass('floating');\n\t\t}\n\n\t\t$('.inline-moderation .selection-count').text(' ('+checked_boxes+')');\n\t});\n\n/*\t$('.post.reply textarea.editor, .form textarea.editor').sceditor({\n\t\tplugins: 'bbcode',\n\t\tstyle: 'js/vendor/sceditor/jquery.sceditor.default.min.css',\n\t\temoticonsRoot: 'assets/images/',\n\t\ttoolbar: 'bold,italic,underline|font,size,color,removeformat|left,center,right|image,link,unlink|emoticon,youtube|bulletlist,orderedlist|quote,code|source',\n\t\tresizeWidth: false,\n\t\tautofocus: false,\n\t\tautofocusEnd: false\n\t});*/\n});\n\nfunction modal(page, find) {\n\tif(page[0] == '/')\n\t\tpage = page.substr(1);\n\n\t$.get('/'+page, function(ans) {\n\t\t// find is optional and defaults to '#content'\n\t\tif(typeof find == 'undefined') { find = '#content'; }\n\n\t\tvar obj = $(ans);\n\t\tvar html = $(find, obj).html();\n\t\t$('<div class=\"modalDialog\">'+html+'</div>').appendTo('body').modal();\n\t\t$('.modalHide').hide();\n\t\t$(\"input[type=number]\").stepper();\t\n\t\t$(\".password-toggle\").hideShowPassword(false, true);\n\t});\n}\n},{}]},{},[1])\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqcy9tYWluLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3ZCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LCBuLCByKSB7XG4gICAgZnVuY3Rpb24gcyhvLCB1KSB7XG4gICAgICAgIGlmICghbltvXSkge1xuICAgICAgICAgICAgaWYgKCF0W29dKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSB0eXBlb2YgcmVxdWlyZSA9PSBcImZ1bmN0aW9uXCIgJiYgcmVxdWlyZTtcbiAgICAgICAgICAgICAgICBpZiAoIXUgJiYgYSlyZXR1cm4gYShvLCAhMCk7XG4gICAgICAgICAgICAgICAgaWYgKGkpcmV0dXJuIGkobywgITApO1xuICAgICAgICAgICAgICAgIHZhciBmID0gbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIiArIG8gKyBcIidcIik7XG4gICAgICAgICAgICAgICAgdGhyb3cgZi5jb2RlID0gXCJNT0RVTEVfTk9UX0ZPVU5EXCIsIGZcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsID0gbltvXSA9IHtleHBvcnRzOiB7fX07XG4gICAgICAgICAgICB0W29dWzBdLmNhbGwobC5leHBvcnRzLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gdFtvXVsxXVtlXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcyhuID8gbiA6IGUpXG4gICAgICAgICAgICB9LCBsLCBsLmV4cG9ydHMsIGUsIHQsIG4sIHIpXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5bb10uZXhwb3J0c1xuICAgIH1cblxuICAgIHZhciBpID0gdHlwZW9mIHJlcXVpcmUgPT0gXCJmdW5jdGlvblwiICYmIHJlcXVpcmU7XG4gICAgZm9yICh2YXIgbyA9IDA7IG8gPCByLmxlbmd0aDsgbysrKXMocltvXSk7XG4gICAgcmV0dXJuIHNcbn0pXG4iLCIkKCdodG1sJykuYWRkQ2xhc3MoJ2pzJyk7XG5cbiQoZnVuY3Rpb24gKCkge1xuXHRcblx0JCgnLm5vanMnKS5oaWRlKCk7XG5cblx0aWYoTW9kZXJuaXpyLnRvdWNoKVxuXHR7XG5cdFx0JCgnLnJhZGlvLWJ1dHRvbnMgLnJhZGlvLWJ1dHRvbiwgLmNoZWNrYm94LWJ1dHRvbnMgLmNoZWNrYm94LWJ1dHRvbicpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXG5cdFx0fSk7XG5cdH1cblxuXHRlbHNlXG5cdHtcblx0XHQkKCdzcGFuLmljb25zIGksIGEsIC5jYXB0aW9uJykucG93ZXJUaXAoeyBwbGFjZW1lbnQ6ICdzJywgc21hcnRQbGFjZW1lbnQ6IHRydWUgfSk7XG5cdH1cblxuXHQkKCcudXNlci1saW5rcywgI21haW4tbWVudScpLmRyb3BpdCh7IHN1Ym1lbnVFbDogJ2Rpdi5kcm9wZG93bicgfSk7XG5cdCQoJy5kcm9wZG93bi1tZW51JykuZHJvcGl0KHsgc3VibWVudUVsOiAndWwuZHJvcGRvd24nLCB0cmlnZ2VyRWw6ICdzcGFuLmRyb3Bkb3duLWJ1dHRvbicgfSk7XG5cdCQoXCJpbnB1dFt0eXBlPW51bWJlcl1cIikuc3RlcHBlcigpO1xuXHQkKFwiLnBhc3N3b3JkLXRvZ2dsZVwiKS5oaWRlU2hvd1Bhc3N3b3JkKGZhbHNlLCB0cnVlKTtcblxuXHQkKCcuY2xlYXItc2VsZWN0aW9uLXBvc3RzIGEnKS5jbGljayhmdW5jdGlvbihldmVudCkge1xuXHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0JCgnLnRocmVhZCcpLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQnKS5yZW1vdmVBdHRyKCdjaGVja2VkJykuY2xvc2VzdChcIi5wb3N0XCIpLnJlbW92ZUNsYXNzKFwiaGlnaGxpZ2h0XCIpO1xuXHRcdCQoJy5pbmxpbmUtbW9kZXJhdGlvbicpLnJlbW92ZUNsYXNzKCdmbG9hdGluZycpO1xuXHR9KTtcblxuXHQkKCcuY2xlYXItc2VsZWN0aW9uLXRocmVhZHMgYScpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQkKCcudGhyZWFkLWxpc3QnKS5maW5kKCdpbnB1dFt0eXBlPWNoZWNrYm94XTpjaGVja2VkJykucmVtb3ZlQXR0cignY2hlY2tlZCcpLmNsb3Nlc3QoXCIudGhyZWFkXCIpLnJlbW92ZUNsYXNzKFwiaGlnaGxpZ2h0XCIpO1xuXHRcdCQoJy5jaGVja2JveC1zZWxlY3QuY2hlY2stYWxsJykuZmluZCgnaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCcpLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKTtcblx0XHQkKCcuaW5saW5lLW1vZGVyYXRpb24nKS5yZW1vdmVDbGFzcygnZmxvYXRpbmcnKTtcblx0fSk7XG5cblx0JCgnLmNsZWFyLXNlbGVjdGlvbi1mb3J1bXMgYScpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQkKCcuZm9ydW0tbGlzdCcpLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQnKS5yZW1vdmVBdHRyKCdjaGVja2VkJykuY2xvc2VzdChcIi5mb3J1bVwiKS5yZW1vdmVDbGFzcyhcImhpZ2hsaWdodFwiKTtcblx0XHQkKCcuY2hlY2tib3gtc2VsZWN0LmNoZWNrLWFsbCcpLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQnKS5yZW1vdmVBdHRyKCdjaGVja2VkJyk7XG5cdFx0JCgnLmlubGluZS1tb2RlcmF0aW9uJykucmVtb3ZlQ2xhc3MoJ2Zsb2F0aW5nJyk7XG5cdH0pO1xuXG5cdCQoXCIjc2VhcmNoIC5zZWFyY2gtYnV0dG9uXCIpLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQkKFwiI3NlYXJjaCAuc2VhcmNoLWNvbnRhaW5lclwiKS5zbGlkZURvd24oKTtcblx0fSk7XG5cblx0JChcIi5wb3N0IDpjaGVja2JveFwiKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KFwiLnBvc3RcIikudG9nZ2xlQ2xhc3MoXCJoaWdobGlnaHRcIiwgdGhpcy5jaGVja2VkKTtcblxuXHRcdHZhciBjaGVja2VkX2JveGVzID0gJCgnLmhpZ2hsaWdodCcpLmxlbmd0aDtcblxuXHRcdGlmKGNoZWNrZWRfYm94ZXMgPT0gMSlcblx0XHR7XG5cdFx0XHQkKCcuaW5saW5lLW1vZGVyYXRpb24nKS5hZGRDbGFzcygnZmxvYXRpbmcnKTtcblx0XHR9XG5cblx0XHRpZihjaGVja2VkX2JveGVzID09IDApXG5cdFx0e1xuXHRcdFx0JCgnLmlubGluZS1tb2RlcmF0aW9uJykucmVtb3ZlQ2xhc3MoJ2Zsb2F0aW5nJyk7XG5cdFx0fVxuXG5cdFx0JCgnLmlubGluZS1tb2RlcmF0aW9uIC5zZWxlY3Rpb24tY291bnQnKS50ZXh0KCcgKCcrY2hlY2tlZF9ib3hlcysnKScpXG5cdH0pO1xuXG5cdCQoXCIudGhyZWFkIC5jaGVja2JveC1zZWxlY3QgOmNoZWNrYm94XCIpLmNoYW5nZShmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIudGhyZWFkXCIpLnRvZ2dsZUNsYXNzKFwiaGlnaGxpZ2h0XCIsIHRoaXMuY2hlY2tlZCk7XG5cblx0XHR2YXIgY2hlY2tlZF9ib3hlcyA9ICQoJy5oaWdobGlnaHQnKS5sZW5ndGg7XG5cblx0XHRpZihjaGVja2VkX2JveGVzID09IDEpXG5cdFx0e1xuXHRcdFx0JCgnLmlubGluZS1tb2RlcmF0aW9uJykuYWRkQ2xhc3MoJ2Zsb2F0aW5nJyk7XG5cdFx0fVxuXG5cdFx0aWYoY2hlY2tlZF9ib3hlcyA9PSAwKVxuXHRcdHtcblx0XHRcdCQoJy5pbmxpbmUtbW9kZXJhdGlvbicpLnJlbW92ZUNsYXNzKCdmbG9hdGluZycpO1xuXHRcdH1cblxuXHRcdCQoJy5pbmxpbmUtbW9kZXJhdGlvbiAuc2VsZWN0aW9uLWNvdW50JykudGV4dCgnICgnK2NoZWNrZWRfYm94ZXMrJyknKVxuXHR9KTtcblxuXHQkKFwiLmZvcnVtIC5jaGVja2JveC1zZWxlY3QgOmNoZWNrYm94XCIpLmNoYW5nZShmdW5jdGlvbigpIHtcblx0XHQkKHRoaXMpLmNsb3Nlc3QoXCIuZm9ydW1cIikudG9nZ2xlQ2xhc3MoXCJoaWdobGlnaHRcIiwgdGhpcy5jaGVja2VkKTtcblxuXHRcdHZhciBjaGVja2VkX2JveGVzID0gJCgnLmhpZ2hsaWdodCcpLmxlbmd0aDtcblxuXHRcdGlmKGNoZWNrZWRfYm94ZXMgPT0gMSlcblx0XHR7XG5cdFx0XHQkKCcuaW5saW5lLW1vZGVyYXRpb24nKS5hZGRDbGFzcygnZmxvYXRpbmcnKTtcblx0XHR9XG5cblx0XHRpZihjaGVja2VkX2JveGVzID09IDApXG5cdFx0e1xuXHRcdFx0JCgnLmlubGluZS1tb2RlcmF0aW9uJykucmVtb3ZlQ2xhc3MoJ2Zsb2F0aW5nJyk7XG5cdFx0fVxuXG5cdFx0JCgnLmlubGluZS1tb2RlcmF0aW9uIC5zZWxlY3Rpb24tY291bnQnKS50ZXh0KCcgKCcrY2hlY2tlZF9ib3hlcysnKScpO1xuXHR9KTtcblxuXHQkKFwiLmNoZWNrYm94LXNlbGVjdC5jaGVjay1hbGwgOmNoZWNrYm94XCIpLmNsaWNrKGZ1bmN0aW9uKCkge1xuXHRcdCQodGhpcykuY2xvc2VzdCgnc2VjdGlvbicpLmZpbmQoJ2lucHV0W3R5cGU9Y2hlY2tib3hdJykucHJvcCgnY2hlY2tlZCcsIHRoaXMuY2hlY2tlZCk7XG5cdFx0JCh0aGlzKS5jbG9zZXN0KCdzZWN0aW9uJykuZmluZCgnLmNoZWNrYm94LXNlbGVjdCcpLmNsb3Nlc3QoJy50aHJlYWQnKS50b2dnbGVDbGFzcyhcImhpZ2hsaWdodFwiLCB0aGlzLmNoZWNrZWQpO1xuXHRcdCQodGhpcykuY2xvc2VzdCgnc2VjdGlvbicpLmZpbmQoJy5jaGVja2JveC1zZWxlY3QnKS5jbG9zZXN0KCcuZm9ydW0nKS50b2dnbGVDbGFzcyhcImhpZ2hsaWdodFwiLCB0aGlzLmNoZWNrZWQpO1xuXG5cdFx0dmFyIGNoZWNrZWRfYm94ZXMgPSAkKCcuaGlnaGxpZ2h0JykubGVuZ3RoO1xuXG5cdFx0aWYoY2hlY2tlZF9ib3hlcyA+PSAxKVxuXHRcdHtcblx0XHRcdCQoJy5pbmxpbmUtbW9kZXJhdGlvbicpLmFkZENsYXNzKCdmbG9hdGluZycpO1xuXHRcdH1cblxuXHRcdGlmKGNoZWNrZWRfYm94ZXMgPT0gMClcblx0XHR7XG5cdFx0XHQkKCcuaW5saW5lLW1vZGVyYXRpb24nKS5yZW1vdmVDbGFzcygnZmxvYXRpbmcnKTtcblx0XHR9XG5cblx0XHQkKCcuaW5saW5lLW1vZGVyYXRpb24gLnNlbGVjdGlvbi1jb3VudCcpLnRleHQoJyAoJytjaGVja2VkX2JveGVzKycpJyk7XG5cdH0pO1xuXG4vKlx0JCgnLnBvc3QucmVwbHkgdGV4dGFyZWEuZWRpdG9yLCAuZm9ybSB0ZXh0YXJlYS5lZGl0b3InKS5zY2VkaXRvcih7XG5cdFx0cGx1Z2luczogJ2JiY29kZScsXG5cdFx0c3R5bGU6ICdqcy92ZW5kb3Ivc2NlZGl0b3IvanF1ZXJ5LnNjZWRpdG9yLmRlZmF1bHQubWluLmNzcycsXG5cdFx0ZW1vdGljb25zUm9vdDogJ2Fzc2V0cy9pbWFnZXMvJyxcblx0XHR0b29sYmFyOiAnYm9sZCxpdGFsaWMsdW5kZXJsaW5lfGZvbnQsc2l6ZSxjb2xvcixyZW1vdmVmb3JtYXR8bGVmdCxjZW50ZXIscmlnaHR8aW1hZ2UsbGluayx1bmxpbmt8ZW1vdGljb24seW91dHViZXxidWxsZXRsaXN0LG9yZGVyZWRsaXN0fHF1b3RlLGNvZGV8c291cmNlJyxcblx0XHRyZXNpemVXaWR0aDogZmFsc2UsXG5cdFx0YXV0b2ZvY3VzOiBmYWxzZSxcblx0XHRhdXRvZm9jdXNFbmQ6IGZhbHNlXG5cdH0pOyovXG59KTtcblxuZnVuY3Rpb24gbW9kYWwocGFnZSwgZmluZCkge1xuXHRpZihwYWdlWzBdID09ICcvJylcblx0XHRwYWdlID0gcGFnZS5zdWJzdHIoMSk7XG5cblx0JC5nZXQoJy8nK3BhZ2UsIGZ1bmN0aW9uKGFucykge1xuXHRcdC8vIGZpbmQgaXMgb3B0aW9uYWwgYW5kIGRlZmF1bHRzIHRvICcjY29udGVudCdcblx0XHRpZih0eXBlb2YgZmluZCA9PSAndW5kZWZpbmVkJykgeyBmaW5kID0gJyNjb250ZW50JzsgfVxuXG5cdFx0dmFyIG9iaiA9ICQoYW5zKTtcblx0XHR2YXIgaHRtbCA9ICQoZmluZCwgb2JqKS5odG1sKCk7XG5cdFx0JCgnPGRpdiBjbGFzcz1cIm1vZGFsRGlhbG9nXCI+JytodG1sKyc8L2Rpdj4nKS5hcHBlbmRUbygnYm9keScpLm1vZGFsKCk7XG5cdFx0JCgnLm1vZGFsSGlkZScpLmhpZGUoKTtcblx0XHQkKFwiaW5wdXRbdHlwZT1udW1iZXJdXCIpLnN0ZXBwZXIoKTtcdFxuXHRcdCQoXCIucGFzc3dvcmQtdG9nZ2xlXCIpLmhpZGVTaG93UGFzc3dvcmQoZmFsc2UsIHRydWUpO1xuXHR9KTtcbn0iXX0=\n"],"sourceRoot":"/source/"}